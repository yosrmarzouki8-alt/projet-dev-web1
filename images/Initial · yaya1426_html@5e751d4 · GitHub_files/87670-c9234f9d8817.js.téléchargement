"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[87670],{46747:(e,t,a)=>{a.d(t,{d:()=>i});var r=a(31223),l=a(23125),n=a(96540);let i=(e,t,{leading:a=!1,maxWait:i,trailing:s=!0,onChangeBehavior:o="flush"}={})=>{let d=(0,r.M)(e),c=(0,n.useMemo)(()=>{let e=void 0===i?{leading:a,trailing:s}:{leading:a,trailing:s,maxWait:i};return(0,l.A)((...e)=>d.current(...e),t,e)},[d,t,a,i,s]);return(0,n.useEffect)(()=>()=>{c?.[o]()},[c,o]),c}},58615:(e,t,a)=>{a.d(t,{M:()=>d,s:()=>c});var r=a(50467),l=a(82075),n=a(96540);let i=(0,l.A)("localStorage"),s="local-storage-update",o=class UseLocalStorageUpdateEvent extends Event{constructor(e,t){super(s),(0,r._)(this,"storageKey",void 0),(0,r._)(this,"storageValue",void 0),this.storageKey=e,this.storageValue=t}};function d(e,t){let a=(0,n.useRef)(t);(0,n.useEffect)(()=>{a.current=t});let[r,l]=(0,n.useState)(()=>{let t=i.getItem(e);return t?JSON.parse(t):a.current}),d=(0,n.useCallback)(t=>{l(t??a.current),void 0===t?i.removeItem(e):i.setItem(e,JSON.stringify(t)),document.dispatchEvent(new o(e,t))},[e]);return(0,n.useEffect)(()=>{function t(t){t.storageKey===e&&l(t.storageValue??a.current)}document.addEventListener(s,t);let r=i.getItem(e);return r?l(JSON.parse(r)):l(a.current),()=>{document.removeEventListener(s,t)}},[e]),[r,d]}function c(e){for(let t of e)i.removeItem(t),document.dispatchEvent(new o(t,void 0))}},69895:(e,t,a)=>{let r;a.d(t,{j:()=>d});var l=a(96540);function n(){return r||(r=window.matchMedia("(prefers-reduced-motion: reduce)"))}function i(){return!1}function s(){return n().matches}function o(e){let t=n();return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}function d(){return(0,l.useSyncExternalStore)(o,s,i)}},87670:(e,t,a)=>{a.d(t,{Mp:()=>l.Mp,BS:()=>ej,Ux:()=>p,Hd:()=>l.Hd,vL:()=>l.vL,uN:()=>l.uN,cA:()=>l.cA,sH:()=>ey,AN:()=>l.AN,gB:()=>i.gB,IG:()=>l.IG,TT:()=>l.TT,Mk:()=>n.Mk,dU:()=>n.dU,FN:()=>n.FN,fF:()=>l.fF,E5:()=>l.E5,gY:()=>K,PM:()=>l.PM,zM:()=>l.zM,MS:()=>l.MS,FR:()=>l.FR,gl:()=>i.gl,_G:()=>i._G});var r=a(74848),l=a(48620),n=a(18831),i=a(43627),s=a(4559),o=a(71315),d=a(29731),c=a(54571),u=a(69895),m=a(58615),g=a(34164),v=a(96540),h=a(40961);let p=(0,v.createContext)(null);function f(e,t){let a=(0,v.useRef)(!1);(0,v.useEffect)(()=>(t?(document.body.classList.add(e),a.current=!0):(a.current&&document.body.classList.remove(e),a.current=!1),()=>{a.current&&document.body.classList.remove(e),a.current=!1}),[e,t])}let x=(0,v.createContext)(void 0);try{x.displayName||(x.displayName="RootElementContext")}catch{}var b=a(70170);let y=e=>`${e} successfully moved to first item in list.`,j=e=>`${e} successfully moved to last item in list.`,D=(e,t,a)=>`${e} successfully moved between ${t} and ${a}.`,N=e=>`${e} did not move.`,S=(e,t,a)=>`${e} will be between ${t} and ${a}.`,M="Move item before",I="Move item after",C="Move to position",A=()=>"",_=(0,b.s)(e=>{(0,s.i)(e,{assertive:!0})},100),w={onDragStart:A,onDragOver:A,onDragMove:A,onDragEnd:A,onDragCancel:A};function $({equalMessage:e,firstPositionMessage:t,lastPositionMessage:a,betweenBeforeMessage:r,betweenAfterMessage:l,newIndex:n,currentIndex:i,items:s,moveAction:o}){if(n===i)return e;if(0===n&&o!==I)return t;if(n===s.length-1&&o!==M)return a;switch(o){case M:return r;case I:return l;case C:if(n<i)return r;return l}}var k=a(50467);let E={start:[l.vL.Space,l.vL.Enter],cancel:[l.vL.Esc],end:[l.vL.Space,l.vL.Enter]};n.FN,n.Mk;let CustomKeyboardSensor=class CustomKeyboardSensor extends l.uN{};(0,k._)(CustomKeyboardSensor,"activators",[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=E,onActivation:a},{active:r})=>{let{code:l}=e.nativeEvent;if(t.start.includes(l)){let t=r.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),a?.({event:e.nativeEvent}),!0)}return!1}},{eventName:"onClick",handler:(e,{onActivation:t})=>{e.preventDefault();let a=new KeyboardEvent("keydown",{key:"Enter",code:"Enter"});return t?.({event:a}),!0}}]);let T=({collisionRect:e,droppableRects:t,droppableContainers:a})=>{let r=(e.top+e.bottom)/2,l=[];for(let e of a){let{id:a}=e,n=t.get(a);if(n){let t=Math.abs(r-(n.top+n.bottom)/2);l.push({id:a,data:{droppableContainer:e,value:t}})}}return l.sort((e,t)=>e.data.value-t.data.value)},F="DragAndDropContainer-module__container--WugRR";var P=a(46747),L=a(96296);let K=()=>{let e=(0,v.use)(p);if(!e)throw Error("useDragAndDrop can only be accessed from a DragAndDropContext.Provider component");let{overId:t,dragIndex:a,moveToPosition:r,items:l,direction:n,moveDialogItem:i,openMoveDialog:s,isInDragMode:o}=e;return{isDropTarget:(0,v.useCallback)(e=>t===e||null,[t]),isBefore:e=>null!==a&&e<a,moveToPosition:r,items:l,direction:n,moveDialogItem:i,openMoveDialog:s,isInDragMode:o}};var B=a(38621),G=a(67988),O=a(21373),R=a(86877),q=a(5839),H=a(72511),z=a(57387);let U="MoveDialog-module__dialogBody--mAl8V";var V=a(83463),Q=a(30093);let X=(0,v.createContext)({formLabel:"",onChange:()=>{}});function Y(e){let{formProps:t,setIsInvalidOption:a,setHelperText:l,helperTextId:n}=e,{actions:i,onActionChange:s,actionsLabel:o}=t,[d,c]=(0,v.useState)(i[0]?.value),u=(0,v.useCallback)(e=>{s?.(e);let t=i.find(t=>t.value===e.target.value);t&&c(t.value)},[i,s]);return(0,r.jsx)(X,{value:(0,v.useMemo)(()=>({formLabel:d??"",onChange:(e,t)=>{l(e),a(t)},helperTextId:n}),[d,l,n,a]),children:(0,r.jsxs)("div",{className:(0,g.$)("MoveDialogForm-module__form--gHVpu"),children:[i.length>1&&(0,r.jsxs)(R.A,{required:!0,children:[(0,r.jsx)(R.A.Label,{children:o??"Action"}),(0,r.jsx)(L.A,{block:!0,onChange:u,children:i.map(e=>(0,r.jsx)(L.A.Option,{value:e.value,children:e.value},e.value))})]}),i.find(e=>e.value===d)?.renderInput]})})}let J=({ref:e,...t})=>{let{helperText:a,isInvalid:l,...n}=t,{formLabel:i,onChange:s,helperTextId:o}=(0,v.use)(X);return(0,v.useEffect)(()=>{s(a??"",!!l)},[a,l,s]),(0,r.jsxs)(R.A,{required:!0,children:[(0,r.jsx)(R.A.Label,{children:i}),(0,r.jsx)(L.A,{block:!0,"aria-invalid":l,validationStatus:l?"error":void 0,"aria-describedby":o,ref:e,...n})]})};J.displayName="MoveDialogForm.SingleSelect";let W=({ref:e,...t})=>{let{isInvalid:a,helperText:l,...n}=t,{formLabel:i,onChange:s,helperTextId:o}=(0,v.use)(X);return(0,v.useEffect)(()=>{s(l,!!a)},[l,a,s]),(0,r.jsxs)(R.A,{required:!0,children:[(0,r.jsx)(R.A.Label,{children:i}),(0,r.jsx)(Q.A,{block:!0,"aria-invalid":a,validationStatus:a?"error":void 0,"aria-describedby":o,ref:e,...n})]})};function Z(e){let{isInvalid:t,helperText:a,...l}=e,{formLabel:n,onChange:i}=(0,v.use)(X);(0,v.useEffect)(()=>{i(a,!!t)},[a,t,i]);let s={...l,renderAnchor:e=>{let{children:t,...a}=e;return(0,r.jsx)(O.Q,{trailingAction:B.TriangleDownIcon,block:!0,...a,children:t})}};return(0,r.jsxs)(R.A,{required:!0,children:[(0,r.jsx)(R.A.Label,{children:n}),(0,r.jsx)(q.X,{...s})]})}function ee(e){let{isInvalid:t,helperText:a,...l}=e,{formLabel:n,onChange:i,helperTextId:s}=(0,v.use)(X);(0,v.useEffect)(()=>{i(a,!!t)},[a,t,i]);let o={anchor:"button",anchorClassName:"MoveDialogForm-module__datePickerAnchor--cpNRJ",compressedHeader:!1,confirmation:!1,confirmUnsavedClose:!0,dateFormat:"long",placeholder:n,showTodayButton:!0,showClearButton:!1,variant:"single",weekStartsOn:"Sunday",...l};return(0,r.jsxs)(R.A,{required:!0,children:[(0,r.jsx)(R.A.Label,{children:n}),(0,r.jsx)(V.DatePicker,{...o,"aria-describedby":s,fieldName:n})]})}W.displayName="MoveDialogForm.Text",Y.SingleSelect=J,Y.Text=W,Y.MultiSelect=Z,Y.Date=ee,Y.SingleSelectOption=L.A.Option;try{Y.displayName||(Y.displayName="MoveDialogForm")}catch{}try{Z.displayName||(Z.displayName="MultiSelect")}catch{}try{ee.displayName||(ee.displayName="DateInput")}catch{}let et="move-dialog-title",ea=({closeDialog:e,onSubmit:t,formProps:a,title:l,submitButtonLabel:n,returnFocusRef:i,...o})=>{let c,u,[m,h]=(0,v.useState)(!1),[p,f]=(0,v.useState)(!1),x="";o.multiSelectItems?c=o.selectPanelProps.selected[0]:x=o.selectedItem.value;let[b,y]=(0,v.useState)(""),j=(0,v.useId)(),D=(0,v.useRef)(null);(0,G.g)({containerRef:D,onClickOutside:e=>e.preventDefault()});let N=async e=>{if(e.preventDefault(),m){let e=D.current?.querySelector('[aria-invalid="true"]');e&&e.focus();return}await t?.(e)};return o.multiSelectItems&&(u={...o.selectPanelProps,selected:o.selectPanelProps.selected,onSelectedChange:e=>{o.multiSelectItems&&(e[0]!==c?f(!0):o.selectPanelProps.onSelectedChange?.(e))},renderAnchor:e=>{let{children:t,...a}=e;return(0,r.jsx)(O.Q,{trailingAction:B.TriangleDownIcon,block:!0,...a,children:t})}}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.l,{title:(0,r.jsx)("span",{className:(0,g.$)("MoveDialog-module__title--idZfs"),id:et,...(0,d.G)(et),children:l??(o.multiSelectItems?"Move selected items":"Move selected item")}),onClose:()=>{if(e(),o.multiSelectItems){let e,t,a=o.selectPanelProps.selected;(0,s.i)((e=a[0]?.text??"",t=a?.length??0,`Cancel moving ${e} and ${t} other items`),{assertive:!0})}else{let e;(0,s.i)((e=x,`Cancel moving ${e}`),{assertive:!0})}},width:"large",ref:D,renderBody:()=>(0,r.jsxs)("form",{onSubmit:N,...(0,d.G)("move-dialog-form"),onBlur:e=>e.stopPropagation(),className:(0,g.$)("MoveDialog-module__form--sQHkL"),noValidate:!0,"aria-labelledby":et,children:[(0,r.jsxs)(z.l.Body,{className:(0,g.$)(U),children:[(0,r.jsx)("div",{className:(0,g.$)("MoveDialog-module__dialogTitle--QuaQM"),children:o.multiSelectItems?(0,r.jsxs)(R.A,{required:!0,children:[(0,r.jsx)(R.A.Label,{requiredIndicator:!1,children:"Item(s)"}),(0,r.jsx)(q.X,{...u})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-bold pb-1",children:"Item"}),(0,r.jsx)("span",{children:x})]})}),(0,r.jsx)(Y,{formProps:a,setHelperText:y,setIsInvalidOption:h,helperTextId:j}),(0,r.jsxs)(H.A,{"aria-live":"assertive",variant:m?"danger":"default",id:j,...(0,d.G)("drag-and-drop-move-dialog-flash"),children:[m?(0,r.jsx)(B.AlertIcon,{}):(0,r.jsx)(B.InfoIcon,{}),b]})]}),(0,r.jsx)(z.l.Footer,{className:"p-2",children:(0,r.jsx)(O.Q,{type:"submit",variant:"primary",...(0,d.G)("drag-and-drop-move-dialog-move-item-button"),children:n??"Move"})})]}),returnFocusRef:i}),p&&(0,r.jsxs)(z.l,{width:"large",title:"Missing selection",onClose:()=>{o.multiSelectItems&&f(!1)},children:[(0,r.jsx)(z.l.Body,{className:(0,g.$)(U),children:"The first item you selected cannot be deselected when performing a move."}),(0,r.jsx)(z.l.Footer,{className:"p-2",children:(0,r.jsx)(O.Q,{type:"submit",variant:"primary",onClick:()=>{o.multiSelectItems&&f(!1)},children:"I understand"})})]})]})};try{ea.displayName||(ea.displayName="MoveDialog")}catch{}let er=(e,t)=>e!==t+1&&e!==t,el=(e,t)=>e!==t-1&&e!==t,en=(e,t)=>void 0===t||t<0||t>=e.length||isNaN(t),ei=({closeDialog:e,dialogTitle:t,returnFocusRef:a})=>{let l=(0,v.useRef)(null),{moveDialogItem:n,moveToPosition:i,items:o}=K(),{title:c,index:u}=n??{title:"",index:-1},[m,g]=(0,v.useState)(!1),[h,p]=(0,v.useState)(),[f,x]=(0,v.useState)(o.some((e,t)=>er(t,u))?M:o.some((e,t)=>el(t,u))?I:C),[b,A]=(0,v.useState)(""),_=(0,v.useMemo)(()=>e=>{let t="";if(void 0===e||en(o,e)){let a;t=void 0===e?"Entry is required.":e<0?"Entry must be greater than 0.":e>o.length?(a=o.length,`Entry must be less than or equal to ${a}.`):"Entry is invalid."}else{let a,r,l,n=o[e-1]?.title,i=o[e+1]?.title;t=$({equalMessage:(a=c,`${a} will not be moved.`),firstPositionMessage:(r=c,`${r} will be first item in the list.`),lastPositionMessage:(l=c,`${l} will be last item in the list.`),betweenBeforeMessage:S(c,n,o[e]?.title),betweenAfterMessage:S(c,o[e]?.title,i),newIndex:e,currentIndex:u,items:o,moveAction:f})}A(t)},[c,u,f,o]),w=(0,P.d)(_,100);(0,v.useEffect)(()=>{if(l.current?.value){let e=f===C?-1:0,t=parseInt(l.current?.value,10)+e;p(isNaN(t)?void 0:t),w(isNaN(t)?void 0:t)}},[w,l,f]);let k=async()=>{if(void 0!==h){switch(f){case C:h>=u?await i(u,h,!1):await i(u,h,!0);break;case M:await i(u,h,!0);break;default:await i(u,h,!1)}e(),function({newIndex:e,items:t,title:a,...r}){let l=t[e-1]?.title,n=t[e+1]?.title,i=$({equalMessage:N(a),firstPositionMessage:y(a),lastPositionMessage:j(a),betweenBeforeMessage:D(a,l,t[e]?.title),betweenAfterMessage:D(a,t[e]?.title,n),newIndex:e,items:t,...r});(0,s.i)(i,{assertive:!0})}({newIndex:h,currentIndex:u,items:o,title:c,moveAction:f})}},E=e=>{en(o,e)?g(!0):g(!1),p(e&&isNaN(e)?void 0:e),w(e)};return(0,r.jsx)(ea,{closeDialog:e,title:t,formProps:{actions:[...o.some((e,t)=>er(t,u))?[{value:M,renderInput:(0,r.jsx)(Y.SingleSelect,{ref:f===M?l:void 0,helperText:b,onChange:e=>{E(Number(e.currentTarget.value))},isInvalid:!1,...(0,d.G)("drag-and-drop-move-dialog-position-input"),children:o.map((e,t)=>{if(er(t,u))return(0,r.jsx)(L.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})}]:[],...o.some((e,t)=>el(t,u))?[{value:I,renderInput:(0,r.jsx)(Y.SingleSelect,{ref:f===I?l:void 0,helperText:b,onChange:e=>{E(Number(e.currentTarget.value))},isInvalid:!1,...(0,d.G)("drag-and-drop-move-dialog-position-input"),children:o.map((e,t)=>{if(el(t,u))return(0,r.jsx)(L.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})}]:[],{value:C,renderInput:(0,r.jsx)(Y.Text,{ref:f===C?l:void 0,helperText:b,min:1,max:o.length,defaultValue:u+1,type:"number",onChange:e=>{E(e.currentTarget.value?parseInt(e.currentTarget.value,10)-1:void 0)},isInvalid:m,...(0,d.G)("drag-and-drop-move-dialog-position-input")})}],onActionChange:e=>{x(e.target.value),g(!1)}},selectedItem:{value:c},onSubmit:k,returnFocusRef:a})};try{ei.displayName||(ei.displayName="DragAndDropMoveDialog")}catch{}var es=a(46720),eo=a(29255);let ed="KeyboardSpecificInstructionsDialog-module__instruction--Bn8V2",ec="hideKeyboardSpecificInstructions",eu=({onClose:e})=>{let[t,a]=(0,m.M)(ec,!1);return(0,r.jsxs)("div",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__footerContainer--dKeqT"),children:[(0,r.jsx)("div",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__footerForm--eqNzz"),children:(0,r.jsxs)(R.A,{children:[(0,r.jsx)(es.A,{checked:t,onChange:()=>a(!t)}),(0,r.jsx)(R.A.Label,{children:"Don't show this again"})]})}),(0,r.jsx)("div",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__footerButton--KEhPP"),children:(0,r.jsx)(O.Q,{onClick:e,children:"Close"})})]})},em=({isOpen:e,onClose:t,direction:a,keyboardCodes:l=E})=>e?(0,r.jsx)("div",{onKeyDown:e=>{e.stopPropagation(),"Escape"===e.code&&t()},children:(0,r.jsx)(z.l,{title:"How to move objects via keyboard",subtitle:"This navigation is only available when move mode is activated.",onClose:t,renderFooter:()=>(0,r.jsx)(z.l.Footer,{className:"d-flex",children:(0,r.jsx)(eu,{onClose:t})}),children:(0,r.jsxs)("table",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__instructionContainer--Heahc"),children:[(0,r.jsx)("thead",{className:"sr-only",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text=bold",children:"Action"}),(0,r.jsx)("th",{className:"text=bold",children:"Keyboard Shortcut"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{className:(0,g.$)(ed),children:[(0,r.jsx)("td",{children:"Cancel drag mode"}),(0,r.jsx)("td",{children:l.cancel.map((e,t)=>(0,r.jsxs)(v.Fragment,{children:[t>0&&(0,r.jsx)("span",{children:" / "}),(0,r.jsx)(eo.U,{keys:e})]},e))})]}),(0,r.jsxs)("tr",{className:(0,g.$)(ed),children:[(0,r.jsx)("td",{children:"Move item one position"}),(0,r.jsxs)("td",{children:[(0,r.jsx)(eo.U,{keys:"vertical"===a?"up":"left"}),(0,r.jsx)("span",{children:" / "}),(0,r.jsx)(eo.U,{keys:"vertical"===a?"down":"right"})]})]}),(0,r.jsxs)("tr",{className:(0,g.$)(ed,"border-bottom-0"),children:[(0,r.jsx)("td",{children:"Place item"}),(0,r.jsx)("td",{children:l.end.map((e,t)=>(0,r.jsxs)(v.Fragment,{children:[t>0&&(0,r.jsx)("span",{children:" / "}),(0,r.jsx)("kbd",{className:"bgColor-default box-shadow-none fgColor-muted",children:e.toLowerCase()})]},e))})]})]})]})})}):null;try{eu.displayName||(eu.displayName="KeyboardSpecificInstructionsFooter")}catch{}try{em.displayName||(em.displayName="KeyboardSpecificInstructionsDialog")}catch{}let eg=({onDrop:e,items:t,direction:a="vertical",children:b,as:S="ul",renderOverlay:M,keyboardCodes:I,enableTouch:C=!1,...A},$)=>{let[k,E]=(0,v.useState)(!1),[P,L]=(0,v.useState)(0),[K,B]=(0,v.useState)(!1),[G,O]=(0,v.useState)(0),[R,q]=(0,v.useState)(null),[H,z]=(0,v.useState)(!1),[U]=(0,m.M)(ec,!1),[V,Q]=(0,v.useState)(!1),[X,Y]=(0,v.useState)(null),J=t.map(e=>e.id),W=(0,v.useMemo)(()=>t.reduce((e,t)=>(e[t.id]=t.title,e),{}),[t]);f("is-dragging",k),f("DragAndDropContainer-module__isKeyboardDragging--sqA9I",V);let[Z,ee]=(0,v.useState)(null),et=(0,u.j)(),ea=(0,v.useCallback)(()=>{z(!1)},[]),er=(0,v.useCallback)(e=>{let t;if(!e.active)return;(0,s.i)((t=W[e.active.id]??e.active.id,`Moving ${t}.`),{assertive:!0});let a=e.active.data.current?.metadata;q(a?.id??null),O(e.active.data.current?.sortable.index??0),L(e.active.data.current?.sortable.index??0),E(!0)},[W]),el=(0,v.useCallback)(e=>{let t=e.over?.data.current?.metadata;q(t?.id??null),K||B(!0),e.over&&e.over.data.current&&L(e.over.data.current.sortable.index)},[K]);(0,v.useEffect)(()=>{if(k&&K)if(0===P)_("First item in list.");else if(P===J.length-1)_("Last item in list.");else{let e,t,a=P<=G,r=P===G,l=a?J[P-1]:J[P+1],n=r?J[P+1]:J[P];_((e=W[l],t=W[n],`Between ${e} and ${t}.`))}},[k,K,P,W,J,G]);let en=(0,v.useCallback)(e=>{(0,s.i)(`${W[e.active.id]??e.active.id} not moved.`,{assertive:!0}),E(!1),Q(!1),B(!1),setTimeout(()=>{document.activeElement?.scrollIntoView({behavior:et?"instant":"smooth",block:"nearest"})},1)},[W,et]),es=(0,v.useCallback)(a=>{if(E(!1),Q(!1),B(!1),!a.active||!a.over)return;let r=a.active.data.current?.metadata,l=a.over.data.current?.metadata;r?.id!==l?.id&&e({dragMetadata:r,dropMetadata:l,isBefore:P<G}),q(null),function({newIndex:e,currentIndex:t,items:a,title:r}){let l=a.map(e=>e.id);if(e===t)(0,s.i)(N(r),{assertive:!0});else if(0===e)(0,s.i)(y(r),{assertive:!0});else if(e===a.length-1)(0,s.i)(j(r),{assertive:!0});else{let n=e<=t?l[e-1]:l[e+1],i=l[e],o=a.find(e=>e.id===n)?.title??"",d=a.find(e=>e.id===i)?.title??"";(0,s.i)(D(r,o,d),{assertive:!0})}}({newIndex:P,currentIndex:G,items:t,title:W[a.active.id]})},[P,G,t,W,e]),eo=(0,v.useCallback)((t,a,r)=>{q(J[a]??null);let l=J[t],n=J[a];l&&n&&e({dragMetadata:{id:l},dropMetadata:{id:n},isBefore:r??a<t})},[J,e]),ed=(0,v.use)(x),eu=(0,v.useMemo)(()=>()=>{K||U||z(!0),Q(!0)},[U,K]),eg=(0,v.useCallback)((e,t,a)=>{Y({title:e,index:t,returnFocusRef:a})},[]),ev=(0,v.useCallback)(()=>{Y(null),ee(X?.returnFocusRef?.current??null)},[X]),eh=(0,l.MS)(l.IG),ep=(0,l.MS)(l.cA),ef=(0,l.MS)(CustomKeyboardSensor,{coordinateGetter:i.JR,keyboardCodes:I,onActivation:eu}),ex=(0,v.useMemo)(()=>C?[ep,eh,ef]:[ep,ef],[C,ep,eh,ef]),eb=(0,l.FR)(...ex);(0,v.useEffect)(()=>{Z?.focus(),ee(null)},[Z]);let ey=t[G],[ej]=(0,c.I)(()=>document.body,null,[o.XC?.body]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(em,{isOpen:H,onClose:ea,direction:a,keyboardCodes:I}),(0,r.jsx)(l.Mp,{collisionDetection:(0,v.useMemo)(()=>"horizontal"===a?l.y$:T,[a]),modifiers:(0,v.useMemo)(()=>"horizontal"===a?[n.dU]:[n.FN],[a]),sensors:eb,onDragStart:er,onDragOver:el,onDragEnd:es,onDragCancel:en,accessibility:(0,v.useMemo)(()=>({container:ed,announcements:w}),[ed]),children:(0,r.jsx)(i.gB,{items:J,strategy:(0,v.useMemo)(()=>"horizontal"===a?i.m$:i._G,[a]),children:(0,r.jsxs)(p,{value:(0,v.useMemo)(()=>({overId:R,dragIndex:G,moveToPosition:eo,items:t,direction:a,openMoveDialog:eg,moveDialogItem:X,isInDragMode:k&&!H}),[R,G,eo,t,a,eg,X,k,H]),children:[X&&(0,r.jsx)(ei,{closeDialog:ev}),(0,r.jsx)(S,{...A,ref:$,className:(0,g.$)(F,A.className),...(0,d.G)("sortable-list"),onKeyDown:e=>{k&&"Tab"===e.code&&e.preventDefault()},children:b}),ej?(0,h.createPortal)((0,r.jsx)(l.Hd,{dropAnimation:null,className:(0,g.$)(F),children:ey&&!H?M(ey,G):null}),ej):null]})})})]})};try{eg.displayName||(eg.displayName="DragAndDropContainer")}catch{}let ev=(0,v.createContext)({title:"",index:0,id:""});var eh=a(21513),ep=a(26108);let ef=()=>{let e=(0,v.use)(ev);if(!e)throw Error("useDragAndDropItem must be used within a DragAndDropItemContextProvider");return e};function ex({ref:e=null,...t}){let{title:a,id:l}=ef(),{setActivatorNodeRef:n,listeners:s,isDragging:o,items:c}=(0,i.gl)({id:l,data:{metadata:{id:l}}}),u=(0,v.useRef)(null);(0,eh.T)(e,u);let{onMouseDown:m,onClick:h,onKeyDown:p,onTouchStart:f}=s;return(0,r.jsxs)("div",{...(0,d.G)("sortable-trigger-container"),className:(0,g.$)("DragAndDropTrigger-module__trigger--vk0HP",1===c.length?"DragAndDropTrigger-module__hideDragHandler--TSI5X":"DragAndDropTrigger-module__touchEnabled--_fwSu"),children:[(0,r.jsx)("div",{onMouseDown:m,onTouchStart:f,className:(0,g.$)("DragAndDropTrigger-module__mouseTrigger--BI5oP"),...(0,d.G)("sortable-mouse-trigger")}),(0,r.jsx)(ep.K,{className:"DragAndDropTrigger-module__buttonTrigger--wP42o","aria-label":`Move ${a}`,ref:e=>{u.current=e,n(e)},onKeyDown:p,onClick:h,variant:"invisible",role:o?"application":"button",icon:B.GrabberIcon,size:"large",...t,...(0,d.G)("sortable-trigger")})]})}try{ex.displayName||(ex.displayName="DragAndDropTrigger")}catch{}let eb=({children:e,id:t,index:a,title:l,containerStyle:n,style:s,hideTrigger:o,isDragOverlay:c=!1,role:m,as:h="li",itemClassName:p,elementId:f,...x})=>{let b=(0,u.j)(),{setNodeRef:y,isDragging:j,transform:D,transition:N}=(0,i.gl)({id:t,data:{metadata:{id:t}}}),{direction:S,isInDragMode:M}=K(),I=(0,g.$)("position-relative",x.className,M&&{"DragAndDropItem-module__dragItem--rV0hu":j,"DragAndDropItem-module__horizontal--UHY1O":"horizontal"===S,"DragAndDropItem-module__vertical--jl9So":"vertical"===S}),C={transform:D?`
        translateX(${Math.round(D.x)}px)
        translateY(${Math.round(D.y)}px)
        scaleX(${D.scaleX})
        scaleY(${D.scaleY})
      `:"none",transition:b?"none":N};return(0,r.jsx)(ev,{value:(0,v.useMemo)(()=>({index:a,title:l,id:t}),[a,t,l]),children:(0,r.jsx)(c?"div":h,{...x,...(0,d.G)(c?"drag-overlay":"sortable-item"),className:I,style:{...c?{}:n,...C},ref:y,id:f,children:(0,r.jsxs)("div",{style:s,className:(0,g.$)("position-relative",p,M&&"DragAndDropItem-module__contents--zC2eY",c&&"DragAndDropItem-module__dragOverlay--EAT8P"),role:m,children:[!o&&(0,r.jsx)(ex,{}),e]})})})};try{eb.displayName||(eb.displayName="DragAndDropItem")}catch{}let ey=({ref:e,Component:t,returnFocusRef:a,...l})=>{let{title:n,index:i}=ef(),{items:s,openMoveDialog:o}=K(),d=(0,v.useCallback)(()=>{o(n,i,a??e)},[o,n,i,a,e]);return 1===s.length?null:(0,r.jsx)(t,{...l,onClick:d,onSelect:d,ref:e})};ey.displayName="MoveDialogTrigger";let ej=Object.assign(eg,{Item:eb,DragTrigger:ex,MoveDialog:ea,MoveDialogForm:Y,MoveDialogTrigger:ey,DragAndDropMoveDialog:ei});try{ej.displayName||(ej.displayName="DragAndDrop")}catch{}a(74979)}}]);
//# sourceMappingURL=87670-5c2a68db7cc2.js.map